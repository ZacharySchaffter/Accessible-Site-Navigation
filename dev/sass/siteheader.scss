$lt-gray : #ccc;
$md-gray : #333;
$blue : blue;

body {
    font-family: 'Lato', sans-serif;
}

.site-header__wrap {
    width:100%;
    background:lighten($lt-gray, 10%);
}

.site-header__logo {
    padding:.5em 1.5em;
}

.site-header__inner-wrap {
    width:1200px;
    margin:0 auto;
    display:flex;
    align-items:center;
}

#main-navigation {
    position:relative;
    display:flex;
    z-index:1000; 
    font-size:16px;
    
    &>ul {
        width:100%;
        height:100%;
        display:flex;
    }
    
    li.nav-item, li {
        position:relative;
        
        &:hover,
        &.active {
            background-color:$lt-gray;         
            
            &>ul.sub-nav {
                display:block;
            }
        }
    }
    
    li.nav-item { //nav-items are the LI's without links
        height:100%;
        position:relative;
        display:flex;
        align-items:center;
        display:block;
        padding:3em 1.5em;
        cursor:pointer;
        transition:background-color 150ms ease;
        border-left:1px solid transparent;
        border-right:1px solid transparent;
        
        a{color:$blue;font-size:16px;}
        
        &:after {
            content:"\f078"; //chevron down
            font-family:FontAwesome;
            left:100%;
            color:$blue;
            top:0;
            height:1em;
            width:1em;
        }
        
        &:hover,
        &.active {
            border-left:1px solid $md-gray;
            border-right:1px solid $md-gray;
            
            
            &:after {
                content:"\f077"; //chevron up
            }
        }
    }
                
    ul.sub-nav {
        display:none;
        border:1px solid $md-gray;
        background-color:#FFF;
        width:300px;
        position:absolute;
        top:100%;
        left:-1px;

        ul.sub-nav {//nested subnavs are displayed, but opacity is 0.  they animate slightly on appearance
            display:block;
            z-index:0;
            left:100%;
            top:-1px;
            border-top:1px solid $md-gray;
            opacity:0;
            transform:translateX(-100%);
            transition:200ms all ease;
        }

        li {
            
            border-bottom:1px solid $md-gray;

            &:hover {
                &>ul.sub-nav {
                    display:block;  
                    opacity:1;
                    transform:translateX(0);
                }
            }

                &:last-child {
                    border-bottom:none;
                }
        }
            
        a {
            display:block;
            padding:.5em 1.5em .5em .5em;
            position:relative;
            z-index:2;
            background-color:#FFF;

            &:hover,
            &:focus {
                text-decoration:none;
                background-color:$lt-gray;
            }
            
            &.active {
                background-color:darken($lt-gray, 3%); 
            }
            
            
            
            &.active+ul.sub-nav {
                display:block;  
                opacity:1;
                transform:translateY(0);
            }
            
            &.has-children {
                &:after {
                    content:"\f054"; //chevron right
                    padding-top:0.5em;
                    font-family:FontAwesome;
                    position:absolute;
                    width:1.5em;
                    text-align:center;
                    height:100%;
                    top:0;
                    right:0;
                    border-left:1px solid $md-gray;
                }
                
                &:hover:after,
                &.active:after {
                    content:"\f053"; //chevron right
                }
            }
        }
    }           
}   